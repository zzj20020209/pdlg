<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zzj.dao.GoodSortDao">

    <select id="queryAllGoodSort" parameterType="goodSort" resultType="goodSort">

        select * from goodSort
        <where>
            <if test="gsname!=null">and gsname like concat('%',#{gsname},'%') </if>
        </where>

    </select>

    <select id="querycountGoodSort" parameterType="goodSort" resultType="int">
        select count(*) FROM goodSort
        <where>
            <if test="gsname!=null">and gsname like concat('%',#{gsname},'%') </if>
        </where>
    </select>


    <insert id="addGoodSort" parameterType="goodSort">
		INSERT INTO goodSort(gsname,gsstatus)
		values (#{gsname},default )
	</insert>

    <delete id="deleteGoodSort" parameterType="int">
		update goodSort set gsstatus=1 where gsid=#{gsid}

	</delete>
    <select id="queryGoodSortBygsid" parameterType="int" resultType="goodSort">
        select * from goodSort where gsid=#{gsid}
    </select>
    <update id="updateGoodSort" parameterType="goodSort">

		update goodSort set
		gsname=#{gsname}
          where gsid=#{gsid}

	</update>
    <delete id="deleteGoodsSortduo" parameterType="int">
        DELETE FROM goodSort
        <foreach collection="array" item="gsid" open="where gsid in(" separator="," close=");">
            #{gsid}
        </foreach>
    </delete>
    <select id="queryGoodSortBygid" parameterType="int" resultType="goodSort">
       SELECT  gs.* FROM  goodsort gs INNER JOIN goods g ON gs.gsid=g.`gsid` WHERE g.`gid`= #{gsid}
    </select>

</mapper>